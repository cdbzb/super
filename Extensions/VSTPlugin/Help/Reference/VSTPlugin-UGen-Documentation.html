<!doctype html><html lang='en'><head><title>VSTPlugin - UGen documentation | SuperCollider 3.10.0 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'VSTPlugin - UGen documentation';
var scdoc_sc_version = '3.10.0';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>VSTPlugin - UGen documentation:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#UGen%20Structure'>UGen Structure</a></li>
<ul class='toc'><li class='toc2'><a href='#UGen%20inputs'>UGen inputs</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#UGen%20outputs'>UGen outputs</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Realtime%20safety'>Realtime safety</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#OSC%20interface'>OSC interface</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Plugin%20commands'>Plugin commands</a></li>
<ul class='toc'><li class='toc2'><a href='#/vst_search'>/vst_search</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_search_stop'>/vst_search_stop</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_probe'>/vst_probe</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_clear'>/vst_clear</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Plugin%20key'>Plugin key</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Unit%20commands'>Unit commands</a></li>
<ul class='toc'><li class='toc2'><a href='#/open'>/open</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/close'>/close</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vis'>/vis</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/reset'>/reset</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#---%20Parameters%20---'>--- Parameters ---</a></li>
<li class='toc2'><a href='#/set'>/set</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/setn'>/setn</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/get'>/get</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/getn'>/getn</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/parameter_query'>/parameter_query</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/map'>/map</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/mapa'>/mapa</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/unmap'>/unmap</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#---%20Preset%20management%20---'>--- Preset management ---</a></li>
<li class='toc2'><a href='#/program_set'>/program_set</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/program_name'>/program_name</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/program_read'>/program_read</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/bank_read'>/bank_read</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/program_write'>/program_write</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/bank_write'>/bank_write</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/program_query'>/program_query</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#---%20MIDI%20---'>--- MIDI ---</a></li>
<li class='toc2'><a href='#/midi_msg'>/midi_msg</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/midi_sysex'>/midi_sysex</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#---%20Timing%20and%20transport%20---'>--- Timing and transport ---</a></li>
<li class='toc2'><a href='#/tempo'>/tempo</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/time_sig'>/time_sig</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/transport_play'>/transport_play</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/transport_set'>/transport_set</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/transport_get'>/transport_get</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#---%20VST%202.x%20---'>--- VST 2.x ---</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/can_do'>/can_do</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vendor_method'>/vendor_method</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Reply%20messages'>Reply messages</a></li>
<ul class='toc'><li class='toc2'><a href='#/vst_param'>/vst_param</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_program'>/vst_program</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_program_index'>/vst_program_index</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_auto'>/vst_auto</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_midi'>/vst_midi</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#/vst_sysex'>/vst_sysex</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#String%20encoding'>String encoding</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Data%20transfer'>Data transfer</a></li>
<ul class='toc'><li class='toc2'><a href='#Plugin%20info'>Plugin info</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Search%20results'>Search results</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Plugin%20cache%20file'>Plugin cache file</a></li>
<ul class='toc'></ul></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Reference (extension)</span>
 | <span id='categories'><a href='./..\Browse.html#UGens'>UGens</a>&#8201;&gt;&#8201;<a href='./..\Browse.html#UGens>FX'>FX</a></span>
</div><h1>VSTPlugin - UGen documentation<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>UGen structure and OSC interface</div>
</div>
<div class='subheader'>
<div id='related'>See also: <a href="./..\Classes/VSTPluginController.html">VSTPluginController</a>, <a href="./..\Classes/VSTPlugin.html">VSTPlugin</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>This document is meant for developers who want to interface with the VSTPlugin UGen from other programs or build their own client abstractions.
<p>It describes the UGen structure (i.e. its inputs and outputs), the available OSC messages and the format in which larger data is exchanged between UGen and client(s).
<p>Have a look at <a href="./..\Classes/VSTPlugin.html">VSTPlugin</a> and <a href="./..\Classes/VSTPluginController.html">VSTPluginController</a> for a reference implementation in Sclang.<h2><a class='anchor' name='UGen%20Structure'>UGen Structure</a></h2>
<h3><a class='anchor' name='UGen%20inputs'>UGen inputs</a></h3>
<table>
<tr><td>numOutputs<td>\ir<td>number of main audio outputs<tr><td>flags<td>\ir<td>creation flags (reserved for future use)<tr><td>bypass<td>\kr<td>bypass state<tr><td>numInputs<td>\ir<td>number of main audio inputs; can be 0<tr><td>[inputs...]<td>\ar<td>(optional) main audio inputs; N = numInputs<tr><td>numAuxInputs<td>\ir<td>number of auxiliary audio inputs; can be 0<tr><td>[auxInputs...]<td>\ar<td>(optional) auxiliary audio inputs; N = numAuxInputs<tr><td>numParams<td>\ir<td>number of parameter controls; can be 0<tr><td>[params...]<td><td>(optional) parameter controls; N = 2 * numParams</table>

<p>If a plugin is bypassed, processing is suspended and each input is passed straight to its corresponding output. The bypass parameter can have the following states:<table>
<tr><td>0<td>off (processing)<tr><td>1<td>hard bypass; processing is suspended immediately and the plugin's own bypass method is called (if available). Good plugins will do a short crossfade, others will cause a click.<tr><td>2<td>soft bypass; if the plugin has a tail (e.g. reverb or delay), it will fade out. Also, this doesn't call the plugin's bypass method, so we can always do a nice crossfade.</table>

<p>Each parameter control is a pair of <code>index, value</code>, so <code>params</code> takes up 2 * <code>numParams</code> UGen inputs in total.
<p><code>index</code> is the index of the parameter to be automated. A negative number deactivates the control. You can dynamically switch between different parameters at control rate.
<p><code>value</code> is the new state for the given plugin parameter and should be a floating point number between 0.0 and 1.0. Generally, it can change at any rate, but <code>\ir</code> and <code>\kr</code> are recommended. <code>\ar</code> only makes sense for VST3 plugins, and only if the plugin actually supports sample accurate automation (many plugins do not!).<div class='note'><span class='notelabel'>NOTE:</span> Automation via UGen inputs can be overriden by <a href="#/map">/map</a> and <a href="#/mapa">/mapa</a>.</div><h3><a class='anchor' name='UGen%20outputs'>UGen outputs</a></h3>
<table>
<tr><td>[outputs...]<td>\ar<td>(optional) main audio outputs; N = <code>numOutputs</code> (see link above)<tr><td>[auxOutputs...]<td>\ar<td>(optional) auxiliary audio outputs;</table>
<h3><a class='anchor' name='Realtime%20safety'>Realtime safety</a></h3>

<p>VSTPlugin tries its best to be as realtime safe as possible. Plugins are always opened/closed asynchronously in the NRT thread. Some methods, like <a href="#/reset">/reset</a> or <a href="#/program_read">/program_read</a>, offer two options via the <code>async</code> parameter:
<p><code>async: false</code> means that the plugin method is simply called on the RT thread. Depending on the plugin, this might be just fine - or block the server. You have to test yourself.
<p><code>async: true</code> means that the plugin method is called on the NRT thread. The UGen is temporarily "suspended", so it won't accept other messages until the command has finished. Also, the plugin itself might be bypassed for a short time, but it will never block the server!<h2><a class='anchor' name='OSC%20interface'>OSC interface</a></h2>

<p>Abbreviations for OSC data types:<table>
<tr><td><strong>int</strong><td>32 bit integer<tr><td><strong>float</strong><td>32 bit float<tr><td><strong>string</strong><td>string<tr><td><strong>bytes</strong><td>binary blob</table>
<h2><a class='anchor' name='Plugin%20commands'>Plugin commands</a></h2>

<p>Plugin commands can be called without any UGen instance and take the following form:<table>
<tr><td><strong>string</strong><td><code>/cmd</code><tr><td><strong>string</strong><td>command name<tr><td>...<td>arguments</table>
<h3><a class='anchor' name='/vst_search'>/vst_search</a></h3>

<p>Search for VST plugins.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>a bitset of options.<tr><td><strong>int | string</strong><td>where to write the search results; either a buffer number or a file path. -1: don't write results. See <a href="#Search%20result">Search result</a> and <a href="#Data%20transfer">Data transfer</a>.<tr><td>N * <strong>string</strong><td>user supplied search paths</table>
</dl>

<p>This will search the given paths recursively for VST plugins, probe them, and write the results to a file or buffer (see <a href="#Search%20results">Search results</a>). Valid plugins are stored in the server-side plugin dictionary by their file path and <a href="#Plugin%20key">Plugin key</a>. If no plugin could be found, the buffer or file will be empty.
<p>The following options can be combined with a bitwise OR operation:<table>
<tr><td>1<td>use standard VST paths, see below.<tr><td>2<td>verbose (print plugin paths and probe results)<tr><td>4<td>add search results to cache file, see <a href="#Plugin%20cache%20file">Plugin cache file</a>.<tr><td>8<td>probe in parallel (faster, but might cause audio dropouts because of full CPU utilization)</table>

<p>The standard VST search paths are:<table>
<tr><td>VST 2.x<td><table>
<tr><td>Windows<td><ul>
<li>%ProgramFiles%\VSTPlugins<li>%ProgramFiles%\Steinberg\VSTPlugins<li>%ProgramFiles%\Common Files\VST2<li>%ProgramFiles%\Common Files\Steinberg\VST2</ul>

<p><tr><td>macOS<td><ul>
<li>~/Library/Audio/Plug-Ins/VST<li>/Library/Audio/Plug-Ins/VST</ul>

<p><tr><td>Linux<td><ul>
<li>~/.vst<li>/usr/local/lib/vst<li>/usr/lib/vst</ul>
</table>

<p><tr><td>VST 3.x<td><table>
<tr><td>Windows<td><ul>
<li>%ProgramFiles%\Common Files\VST3</ul>

<p><tr><td>macOS<td><ul>
<li>~/Library/Audio/Plug-Ins/VST3<li>/Library/Audio/Plug-Ins/VST3</ul>

<p><tr><td>Linux<td><ul>
<li>~/.vst3<li>/usr/local/lib/vst3<li>/usr/lib/vst3</ul>
</table>
</table>
<div class='note'><span class='notelabel'>NOTE:</span> here, <em>%ProgramFiles%</em> stands for "C:\Program Files" on a 64 bit Server and "C:\Program Files (x86)" on a 32 bit Server.</div><h3><a class='anchor' name='/vst_search_stop'>/vst_search_stop</a></h3>

<p>Stop a running search. (No arguments)<h3><a class='anchor' name='/vst_probe'>/vst_probe</a></h3>

<p>Probe a VST plugin.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>string</strong><td>plugin path (absolute or relative).<tr><td><strong>int | string</strong><td>where to write the probe result; either a buffer number or a file path. -1: don't write result. See <a href="#Plugin%20info">Plugin info</a> and <a href="#Data%20transfer">Data transfer</a>.</table>
</dl>

<p>This will probe a given plugin file in a seperate process, so that bad plugins don't crash the server. On success, the plugin information is written to a file or buffer (see <a href="#Probe%20results">Probe results</a>); on fail, nothing is written. If you don't need the result (e.g. in NRT synthesis), you can pass a negative buffer number.
<p>If the plugin is valid, it is stored in the server-side plugin dictionary by its file path and <a href="#Plugin%20key">Plugin key</a>. If the file contains several plugins (VST 2 shell plugins or VST 3 plugin factories), each sub-plugin is stored under its key.
<p>For VST 2.x plugins, you can omit the file extension. Relative paths are resolved recursively based on the standard VST directories.
<p>The probe process can have one of the following results:<table>
<tr><td>ok<td>probe succeeded<tr><td>failed<td>couldn't load the plugin; possible reasons: a) not a VST plugin, b) wrong architecture, c) missing dependencies<tr><td>crashed<td>the plugin crashed on initialization<tr><td>error<td>internal failure</table>
<h3><a class='anchor' name='/vst_clear'>/vst_clear</a></h3>

<p>Clear the server-side plugin dictionary.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>remove cache file yes(1)|no(0)</table>
</dl>
<h3><a class='anchor' name='Plugin%20key'>Plugin key</a></h3>

<p>To reference a certain VST plugin, each plugin is stored under a <em>key</em>. For VST 2.x plugins, the key is simply the plugin name; for VST 3.x plugins, the key is the plugin name plus ".vst3" extension.
<p>VST plugins contained in a single file can also be referenced by their file path. This obviously doesn't work for VST 2 shell plugins and VST 3 plugin factories, so there you <em>have</em> to use the plugin key.
<p>The other big advantage of plugin keys over file paths is that the latter can vary across systems and architectures, whereas the former is always the same!<h2><a class='anchor' name='Unit%20commands'>Unit commands</a></h2>

<p>Unit commands are used to control a specific UGen instance and take the following form:<table>
<tr><td><strong>string</strong><td><code>/u_cmd</code><tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>string</strong><td>command name<tr><td>...<td>arguments</table>
<h3><a class='anchor' name='/open'>/open</a></h3>

<p>Open a new VST plugin. This method is asynchronous.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>string</strong><td>plugin name or path.<tr><td><strong>int</strong><td>request VST GUI editor yes(1)|no(0)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_open<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>success yes(1)|no(0)<tr><td><strong>int</strong><td>GUI editor yes(1)|no(0)</table>
</dl>
<h3><a class='anchor' name='/close'>/close</a></h3>

<p>Close the current VST plugin.<dl>
<dt>Arguments:<dd>None</dl>
<h3><a class='anchor' name='/vis'>/vis</a></h3>

<p>Show/hide the VST GUI editor (if enabled).<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>show(1)|hide(0)</table>
</dl>
<h3><a class='anchor' name='/reset'>/reset</a></h3>

<p>Reset the VST plugin's internal state (e.g. clear delay lines). This method can be asynchronous.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>asynchronous: yes(1)|no(0), see <a href="#Realtime%20safety">Realtime safety</a>.</table>
</dl>
<h3><a class='anchor' name='---%20Parameters%20---'>--- Parameters ---</a></h3>
<h3><a class='anchor' name='/set'>/set</a></h3>

<p>Set a plugin parameter to a new value.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>parameter index or name<tr><td><strong>float | string</strong><td>"normalized" float value between 0.0 and 0.1 or "plain" string representation. Depending on the plugin, the latter might only work for certain parameters - or not work at all.<tr><td>...<td>simile</table>
</dl>

<p>Replies with <a href="#/vst_param">/vst_param</a>.
<p>You can automated several parameters at once, e.g. <code>[/u_cmd, &lt;nodeID&gt;, &lt;synthIndex&gt;, /set, 0, 0.5, 1, "12", "Wet", 0.7]</code> will set parameters 0, 1 and "Wet" to values 0.5, "12" and 0.7.<div class='note'><span class='notelabel'>NOTE:</span> <code>/set</code> will automatically unmap the corresponding parameter(s) from any audio/control busses, see <a href="#/unmap">/unmap</a>.</div><h3><a class='anchor' name='/setn'>/setn</a></h3>

<p>Like <code>/set</code>, but with a range of subsequent parameters.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>name or index of start parameter<tr><td><strong>int</strong><td>number parameters<tr><td><strong>N * (float | string)</strong><td>parameter values<tr><td>...<td>simile</table>
</dl>
<h3><a class='anchor' name='/get'>/get</a></h3>

<p>Get a single plugin parameter value.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>parameter index or name</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_set<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>parameter index<tr><td><strong>float</strong><td>"normalized" value</table>
</dl>
<h3><a class='anchor' name='/getn'>/getn</a></h3>

<p>Get a range of plugin parameter values.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>name or index of start parameter<tr><td><strong>int</strong><td>number of subsequent parameters (-1: till the end)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_setn<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>start parameter index<tr><td><strong>int</strong><td>number of parameters<tr><td><strong>N * float</strong><td>"normalized" values</table>
</dl>

<p>To get all parameter values, you can do <code>[/u_cmd, &lt;nodeID&gt;, &lt;synthIndex&gt;, /getn, 0, -1]</code><h3><a class='anchor' name='/parameter_query'>/parameter_query</a></h3>

<p>Query parameter states.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>start parameter index<tr><td><strong>int</strong><td>number of parameters</table>
</dl>

<p>Replies with a series of <a href="#/vst_param">/vst_param</a> messages. Use this instead of <a href="#/getn">/getn</a>, if you also need the string representation, e.g. to update your client GUI after loading a new plugin, switching programs or loading a preset file.<h3><a class='anchor' name='/map'>/map</a></h3>

<p>Map a subsequent range of parameters to control bus channels.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>name or index of start parameter<tr><td><strong>int</strong><td>control bus start index<tr><td><strong>int</strong><td>number of channels</table>
</dl>

<p>For example, <code>[/u_cmd, &lt;nodeID&gt;, &lt;synthIndex&gt;, /map, 0, 4, 2]</code> will map parameter 0 to control bus 4 and parameter 1 to control bus 5.<h3><a class='anchor' name='/mapa'>/mapa</a></h3>

<p>Map a subsequent range of parameters to audio bus channels.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>name or index of start parameter<tr><td><strong>int</strong><td>audio bus start index<tr><td><strong>int</strong><td>number of channels</table>
</dl>
<div class='note'><span class='notelabel'>NOTE:</span> Mapping a parameter to a audio/control bus has higher precedence than UGen input parameter controls (<a href="#UGen%20inputs">UGen inputs</a>)</div><h3><a class='anchor' name='/unmap'>/unmap</a></h3>

<p>Unmap parameters from audio/control busses.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>N * (int | string)</strong><td>names or indices of parameters to unmap. If empty, <em>all</em> parameters are unmapped.</table>
</dl>
<div class='note'><span class='notelabel'>NOTE:</span> <a href="#/set">/set</a> will automatically unmap the corresponding parameter(s) from any audio/control busses!</div><h3><a class='anchor' name='---%20Preset%20management%20---'>--- Preset management ---</a></h3>
<h3><a class='anchor' name='/program_set'>/program_set</a></h3>

<p>Switch to another program.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>program index</table>
</dl>

<p>Replies with <a href="#/vst_program_index">/vst_program_index</a>.<h3><a class='anchor' name='/program_name'>/program_name</a></h3>

<p>Change the current program name.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>string</strong><td>new program name</table>
</dl>

<p>Replies with <a href="#/vst_program">/vst_program</a>.<h3><a class='anchor' name='/program_read'>/program_read</a></h3>

<p>Read a preset program from a file or buffer.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>buffer number of file path, see <a href="#Data%20transfer">Data transfer</a>.<tr><td><strong>int</strong><td>asynchronous: yes(1)|no(1)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_program_read<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>success: yes(1)|no(0)</table>
</dl>

<p>Also sends <a href="#/vst_program">/vst_program</a>.<h3><a class='anchor' name='/bank_read'>/bank_read</a></h3>

<p>Read a preset bank from a file or buffer.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>buffer number of file path, see <a href="#Data%20transfer">Data transfer</a>.<tr><td><strong>int</strong><td>asynchronous: yes(1)|no(1)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_bank_read<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>success: yes(1)|no(0)</table>
</dl>

<p>Also sends <a href="#/vst_program">/vst_program</a> and <a href="#/vst_program_index">/vst_program_index</a>.<h3><a class='anchor' name='/program_write'>/program_write</a></h3>

<p>Write a preset program to a file or buffer.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>buffer number of file path, see <a href="#Data%20transfer">Data transfer</a>.<tr><td><strong>int</strong><td>asynchronous: yes(1)|no(1)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_program_write<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>success: yes(1)|no(0)</table>
</dl>
<h3><a class='anchor' name='/bank_write'>/bank_write</a></h3>

<p>Write a preset bank to a file or buffer.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int | string</strong><td>buffer number of file path, see <a href="#Data%20transfer">Data transfer</a>.<tr><td><strong>int</strong><td>asynchronous: yes(1)|no(1)</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_bank_write<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>success: yes(1)|no(0)</table>
</dl>
<h3><a class='anchor' name='/program_query'>/program_query</a></h3>

<p>Query program names.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>start program index<tr><td><strong>int</strong><td>number of programs</table>
</dl>

<p>Replies with a series of <a href="#/vst_program">/vst_program</a> messages. For example, you can use this to update the program list in your client after loading a new plugin or reading a preset bank.<h3><a class='anchor' name='---%20MIDI%20---'>--- MIDI ---</a></h3>
<h3><a class='anchor' name='/midi_msg'>/midi_msg</a></h3>

<p>Send a MIDI message.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>bytes</strong><td>MIDI message (1-3) bytes<tr><td><strong>float</strong><td>(optional) detune in cent</table>
</dl>

<p>The optional detune argument allows to detune a single note-on or note-off message; this feature is not part of the MIDI standard and the plugin has to support it.<h3><a class='anchor' name='/midi_sysex'>/midi_sysex</a></h3>

<p>Send a SysEx message.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>bytes</strong><td>SysEx message</table>
</dl>
<h3><a class='anchor' name='---%20Timing%20and%20transport%20---'>--- Timing and transport ---</a></h3>
<h3><a class='anchor' name='/tempo'>/tempo</a></h3>

<p>Set a new tempo.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>float</strong><td>BPM (beats per minute)</table>
</dl>
<h3><a class='anchor' name='/time_sig'>/time_sig</a></h3>

<p>Set a new time signature.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>numerator<tr><td><strong>int</strong><td>denominator</table>
</dl>
<h3><a class='anchor' name='/transport_play'>/transport_play</a></h3>

<p>Set the transport state.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>play(1)|stop(0)</table>
</dl>
<h3><a class='anchor' name='/transport_set'>/transport_set</a></h3>

<p>Set the transport position.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>float</strong><td>position in beats.</table>
</dl>
<h3><a class='anchor' name='/transport_get'>/transport_get</a></h3>

<p>Get the current transport position.
<p>Replies with:<dl>
<dt>/vst_transport<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>float</strong><td>position in beats</table>
</dl>
<h3><a class='anchor' name='---%20VST%202.x%20---'>--- VST 2.x ---</a></h3>
<div class='note'><span class='notelabel'>NOTE:</span> The following methods only work for VST 2.x plugins and are meant for expert users. Please check the VST 2.x SDK for more information.</div><h3><a class='anchor' name='/can_do'>/can_do</a></h3>

<p>Ask the plugin if it can do something.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>string</strong><td>the thing</table>
</dl>

<p>Replies with:<dl>
<dt>/vst_can_do<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td><table>
<tr><td>1<td>yes<tr><td>-1<td>no<tr><td>0<td>don't know</table>
</table>
</dl>
<h3><a class='anchor' name='/vendor_method'>/vendor_method</a></h3>

<p>Call a vendor specific method.<dl>
<dt>Arguments:<dd><table>
<tr><td><strong>int</strong><td>index<tr><td><strong>int</strong><td>value<tr><td><strong>bytes</strong><td>ptr<tr><td><strong>float</strong><td>opt<tr><td><strong>int</strong><td>async: yes(1)|(no), see <a href="#Realtime%20safety">Realtime safety</a></table>
</dl>

<p>Replies with:<dl>
<dt>/vst_vendor_method<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>result</table>
</dl>
<h2><a class='anchor' name='Reply%20messages'>Reply messages</a></h2>

<p>The VSTPlugin UGen may send the following reply messages anytime:<h3><a class='anchor' name='/vst_param'>/vst_param</a></h3>

<p>A parameter has changed state.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>parameter index<tr><td><strong>float</strong><td>"normalized" value<tr><td><strong>N * float</strong><td>"plain" string representation, see <a href="#String%20encoding">String encoding</a></table>
</dl>

<p><code>/vst_param</code> messages are sent after <a href="#/set">/set</a>, <a href="#/param_query">/param_query</a> or when automating parameters in the VST GUI editor. They are <em>not</em> sent when parameters are automated via UGen input parameter controls (see <a href="#UGen%20inputs">UGen inputs</a>) or audio/control bus mappings (see <a href="#/map">/map</a>), because this would lead to excessive OSC traffic.<div class='note'><span class='notelabel'>NOTE:</span> A single parameter change might produce several <code>/vst_param</code> messages, e.g. for linked parameters.</div><h3><a class='anchor' name='/vst_program'>/vst_program</a></h3>

<p>A program name has changed.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>program index<tr><td><strong>N * float</strong><td>program name, see <a href="#String%20encoding">String encoding</a></table>
</dl>

<p>This message is sent after <a href="#/program_name">/program_name</a>, <a href="#/program_read">/program_read</a> or <a href="#/bank_read">/bank_read</a>.<h3><a class='anchor' name='/vst_program_index'>/vst_program_index</a></h3>

<p>The current program index has changed.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>program index</table>
</dl>

<p>This message is sent after <a href="#/program_set">/program_set</a> and <a href="#/bank_read">/bank_read</a>.<h3><a class='anchor' name='/vst_auto'>/vst_auto</a></h3>

<p>A parameter has been automated in the VST GUI editor.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>int</strong><td>parameter index<tr><td><strong>float</strong><td>"normalized" parameter value</table>
</dl>

<p>This message is always accompanied by <a href="/vst_param">/vst_param</a>.<h3><a class='anchor' name='/vst_midi'>/vst_midi</a></h3>

<p>The plugin has sent a MIDI message.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>bytes</strong><td>raw MIDI message (1-3 bytes)</table>
</dl>
<h3><a class='anchor' name='/vst_sysex'>/vst_sysex</a></h3>

<p>The plugin has sent a SysEx message.<dl>
<dt>Arguments<dd><table>
<tr><td><strong>int</strong><td>node ID<tr><td><strong>int</strong><td>UGen index<tr><td><strong>bytes</strong><td>SysEx message (arbitrary size)</table>
</dl>
<h3><a class='anchor' name='String%20encoding'>String encoding</a></h3>

<p>Because of limitations in the SuperCollider plugin API, node reply messages can only contain float arguments. Therefore we encode string arguments as a list of bytes with a length prefix ("Pascal strings"), where every byte takes up a single float.
<p>For example, the string "Dry" is encoded as <code>[3.0, 44.0, 72.0, 79.0]</code><h2><a class='anchor' name='Data%20transfer'>Data transfer</a></h2>

<p>To reliably exchange larger data sets between server and clients, you can use temp files or sound buffers. For locals servers, temp files should be preferred. For remote servers, you have to use sound buffers (unless you can use FTP :-). Usually, client frameworks already have abstractions to (more or less) reliably stream data from/to sound buffers.
<p>Files are always read and written in binary. In case of sound buffers, each float corresponds to a single byte.
<p>Whenever VSTPlugin writes data to a sound buffer, it will allocate the data for you, but because of limitations in the SuperCollider plugin API, it can't safely <em>deallocate</em> a sound buffer. There are two consequences:<ul>
<li>Whenever you ask VSTPlugin to <em>write</em> data, make sure that the target sound buffer is empty!<li>Whenever you ask VSTPlugin to <em>read</em> data, it's your job to free the sound buffer after the command has finished.</ul>

<p>VSTPlugin uses a custom format similar to .ini files to exchange plugin description data between server and clients. It is also used in the plugin cache file.<h3><a class='anchor' name='Plugin%20info'>Plugin info</a></h3>

<p>This is the structure of a single plugin description, as used by <a href="#/vst_probe">/vst_probe</a>:<pre>[plugin]\n
id=&lt;unique ID string&gt;\n
path=&lt;file path&gt;\n
name=&lt;plugin name&gt;\n
vendor=&lt;vendor name&gt;\n
category=&lt;category name&gt;\n
version=&lt;plugin version string&gt;\n
sdkversion=&lt;VST SDK version string&gt;\n
inputs=&lt;max. number of audio inputs&gt;\n
auxinputs=&lt;max. number of auxiliary inputs&gt;\n // optional
outputs=&lt;max. number of audio outputs&gt;\n
auxoutputs=&lt;max. number of auxiliary inputs&gt;\n // optional
pgmchange=&lt;program change parameter index in hex&gt;\n // optional
bypass=&lt;bypass parameter index in hex&gt;\n // optional
flags=&lt;bitset&gt;\n
[parameters]\n
n=&lt;number of parameters&gt;\n
&lt;parameter name #0&gt;, &lt;parameter label #0&gt;, &lt;parameter ID #0&gt;\n
&lt;parameter name #1&gt;, &lt;parameter label #1&gt;, &lt;parameter ID #1&gt;\n
...
&lt;parameter name #N-1&gt;, &lt;parameter label #N-1&gt;, &lt;parameter ID #N-1&gt;\n
[programs]\n
n=&lt;number of programs&gt;\n
&lt;program name #0&gt;\n
&lt;program name #1&gt;\n
...
&lt;program name #N-1&gt;\n
[keys]\n
n=&lt;number of keys&gt;\n
&lt;key #0&gt;\n
&lt;key #1&gt;\n
...
&lt;key #N-1&gt;\n</pre>
<p><code>flags</code> is a bitset of boolean properties, written as a hexidecimal number. The following flags can be combined with a bitwise OR operation:<table>
<tr><td>1<td>supports the GUI editor<tr><td>2<td>is a VST instrument<tr><td>4<td>supports single precision processing<tr><td>8<td>supports double precision processing<tr><td>16<td>has MIDI input<tr><td>32<td>has MIDI output<tr><td>64<td>has SysEx input<tr><td>128<td>has SysEx output</table>

<p>String values, like plugin/parameter/program names, can contain any characters except newlines and commas. (Those are bashed to a replacement symbol by the UGen.)
<p>Each parameter entry takes up a single line and consists of three fields, separated by a comma: <code>&lt;parameter name&gt;, &lt;parameber label&gt;, &lt;parameter ID&gt;</code>.
<p>The parameter label is the unit of measurement (e.g. "dB", "ms", "%"); it can be an empty string!
<p>The parameter ID is a hexidecimal number. For VST 2.x plugins it is the same as the parameter index, but for VST 3.x plugins it can be an arbitrary 32 bit integer.<div class='note'><span class='notelabel'>NOTE:</span> Program names can be empty strings; this means that empty lines after the <code>[programs]</code> section are significant and must not be ignored!</div>
<p>Each plugin can be referred to by one or more <strong>keys</strong>. The primary key always comes first in the list.
<p>Example:<pre>[plugin]
id=6779416F
path=C:/Program Files/VSTPlugins/GVST/GChorus.dll
name=GChorus
vendor=GVST
category=Effect
version=1200
sdkversion=VST 2.4
inputs=2
outputs=2
flags=d
[parameters]
n=4
Depth,cents,0
Freq,Hz,1
R Phase,deg,2
Mix,%,3
[programs]
n=10
Subtle Insert
Wide Insert
Heavy Insert
Subtle Send
Wide Send
Heavy Send
Defaults
Defaults
Defaults
Defaults
[keys]
n=2
GChorus
C:/Program Files/VSTPlugins/GVST/GChorus.dll</pre><h3><a class='anchor' name='Search%20results'>Search results</a></h3>

<p>This is used by <a href="#/vst_search">/vst_search</a> to transmit search results to the client. It has the following structure:<pre>[plugins]\n
n=&lt;number of plugins&gt;
&lt;plugin info #0&gt;
&lt;plugin info #1&gt;
...
&lt;plugin info #N-1&gt;</pre>
<p>Each &lt;plugin info&gt; entry has the same structure as in <a href="#Plugin%20info">Plugin info</a>.<h3><a class='anchor' name='Plugin%20cache%20file'>Plugin cache file</a></h3>

<p>Probing lots of (large) VST plugins can be a slow process. To speed up subsequent searches, the search results can be written to a cache file (see <a href="#/vst_search">/vst_search</a>), which is located in a hidden folder called <code>.VSTPlugin</code> in the user's home directory. The cache file itself is named <code>cache.ini</code> on 64-bit servers and <code>cache32.ini</code> on 32-bit servers.
<p>The cache file structure is very similar to <a href="#Search%20results">Search results</a>. The only difference is that it also contains a black-list (marked by <code>[ignore]</code>).<pre>[plugins]\n
n=&lt;number of plugins&gt;
&lt;plugin info #0&gt;
&lt;plugin info #1&gt;
...
&lt;plugin info #N-1&gt;
[ignore]
n=&lt;number of paths&gt;
&lt;path #0&gt;\n
&lt;path #1&gt;\n
...
&lt;path #N-1&gt;\n</pre>
<p>Plugins are put on the black-list, if the probe process failed in one way or the other (see <a href="#/vst_probe">/vst_probe</a>). If you want to replace a "bad" plugin with a "good" one, you have to remove the cache file first (see <a href="#/vst_clear">/vst_clear</a>).<div class='doclink'>helpfile source: <a href='file:///C:/Users/Christof/AppData/Local/SuperCollider/Extensions/VSTPlugin/HelpSource/Reference/VSTPlugin-UGen-Documentation.schelp'>C:\Users\Christof\AppData\Local\SuperCollider\Extensions\VSTPlugin\HelpSource\Reference\VSTPlugin-UGen-Documentation.schelp</a><br>link::Reference/VSTPlugin-UGen-Documentation::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>