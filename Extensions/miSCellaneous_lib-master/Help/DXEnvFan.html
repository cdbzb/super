<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1187.4">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ee}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Monaco; min-height: 16.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1c00}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1c00; min-height: 12.0px}
p.p15 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0326cb}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {text-decoration: underline ; color: #042eee}
span.s5 {color: #00bbff}
span.s6 {color: #0326cb}
span.s7 {color: #434ccb}
span.s8 {color: #cd1c00}
span.s9 {color: #737373}
span.s10 {color: #0433ff}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>DXEnvFan<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>returns crossfade envelopes according to demand-rate control</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Part of:</b> <a href="../miSCellaneous.html"><span class="s3">miSCellaneous</span></a></span></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: AbstractDX</b></p>
<p class="p4"><br></p>
<p class="p1">DXEnvFan returns the multichannel envelope signal, which is used by DXMix / DXMixIn / DXFan / DXFanOut implicitely. It can be used as envelope and trigger at the same time, which leads to applications such as crossfading PlayBufs and different kinds of granulation, using a buffer or not.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>As interface and conventions of DX ugens are nearly identical, I didn't double examples for all features. It's recommended to start with the DX suite overview and go through the help file examples in this order: DXMix - DXMixIn - DXEnvFan - DXEnvFanOut - DXFan - DXFanOut. Some general conventions are treated in detail in the following examples: fades and steps in DXMix help, Ex.2 – width and offset arguments in DXMix help, Ex.3 – multichannel expansion in DXMix help, Ex.6 – crossfade types in DXEnvFan help, Ex.1.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>PanAz.ar's args pos and orientation were scaled wrongly in SC versions up to 3.8. DX ugens neutralize this bug by inverse scaling, so it should actually work the same with SC versions before 3.9 with the exception of examples with modulatable width (disabled in earlier versions). I didn't encounter differences in any other test examples, however I'd rather recommend a SC version from 3.9 onwards, if you have the choice.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>Depending on the multichannel sizes it might be necessary to increase server resources, i.e. the number of interconnect buffers (e.g. s.options.numWireBufs = 256; s.reboot). See Ex.8 from DXMix help and Ex.2, Ex.4 from DXEnvFan help for aspects of CPU demand.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>In my tests timing was exact up to one sample. So when used for granulation DX ugens avoid the inevitable inccuracies of language-based triggering in realtime. However care has to be taken: fade and step times must be larger than the duration of a control cycle. With default values sampleRate = 44100 Hz and blockSize = 64, this equals ca. 0.00145 sec. If you go below, the fade mechanism is messed up and you get jumps and clicks. Accordingly with fadeModes 3 and 4 you have to ensure that the remaining 'real' stepTime, which is calculated by stepTime minus fadeTime, is larger than this threshold. But as a workaround you can always lower the blocksize. See DXFan help Ex.4 for aspects of granulation with high trigger rates / short grain durations.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>The current implementation is bound to counting with Dseries and – inherent to 32 bit floats – the integer accuracy limit of 2 ** 24 - 1 = 16777215. This can be an issue with setups that are using extreme short durations for hours.</p>
<p class="p2"><br></p>
<p class="p1"><b>CREDITS: </b>Thanks to Wouter Snoei for his PlayBufCF class. It gave me a lot of inspiration for DX ugens – although in the end the implementation with PanAz and DemandEnvGen is quite different. Thanks also to Till Bovermann for ironing out a longstanding bug in PanAz.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>See also: </b><a href="../DX suite.html"><span class="s4">DX suite</span></a>,<b> </b><a href="../DXMix.html"><span class="s4">DXMix</span></a>, <a href="../DXMixIn.html"><span class="s4">DXMixIn</span></a>, <a href="../DXEnvFanOut.html"><span class="s4">DXEnvFanOut</span></a>, <a href="../DXFan.html"><span class="s4">DXFan</span></a>,<b> </b><a href="../DXFanOut.html"><span class="s4">DXFanOut</span></a>, <a href="../Buffer Granulation.html"><span class="s3">Buffer Granulation</span></a>, <a href="../Live Granulation.html"><span class="s3">Live Granulation</span></a>, <a href="../PbindFx.html"><span class="s3">PbindFx</span></a></span><span class="s5">,</span><span class="s2"> <a href="../kitchen studies.html"><span class="s3">kitchen studies</span></a></span><span class="s5">,</span><span class="s2"> <a href="../../ZeroXBufRd.html"><span class="s4">ZeroXBufRd</span></a>,<b> </b><a href="../../TZeroXBufRd.html"><span class="s4">TZeroXBufRd</span></a>,<b> </b><a href="../../ZeroXBufWr.html"><span class="s4">ZeroXBufWr</span></a></span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*ar (out, fadeTime = 1, stepTime = 1, fadeMode = 0, sine = 1, equalPower = 1, power = 1, curve = 0, allowTypeSeq = 0, fadeRate = \ar, maxFadeNum = inf, maxWidth = 2, width = 2, initOutOffset = 0, maxDynOutOffset = 1, dynOutOffset = 0, allowFadeEnd = 1, size = 2, bus = nil, zeroThr = nil, doneAction = 0)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>out </b>- Determines the sequence of channels between which the signal should be crossfaded.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>An channel index, a demand rate or other ugen returning channel indices or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>out</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime </b>- A fade time, a demand rate or other ugens returning fade times or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>fadeTime</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The interpretation of <b>fadeTime</b> depends on <b>fadeMode</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime</b> must be larger than the duration of a control cycle.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stepTime </b>- A step time, a demand rate or other ugens returning step times or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>stepTime</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The interpretation of <b>stepTime</b> depends on <b>fadeMode</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stepTime</b> must be larger than the duration of a control cycle.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeMode </b>- Integers between 0 and 4 or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion. Not modulatable.</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 0: <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>only fadeTimes are used, no steps</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 1:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate steps and fades, begin with step; <b>stepTime</b> means time without fade</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 2:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate fades and steps, begin with fade; <b>stepTime</b> means time without fade</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 3:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate steps and fades, begin with step; <b>stepTime</b> means sum of step and fade,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>thus <b>stepTime </b>must be larger than <b>fadeTime</b>,</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>the difference must be larger than the duration of a control cycle</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 4:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate fades and steps, begin with fade; <b>stepTime</b> means sum of fade and step,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>thus <b>stepTime </b>must be larger than <b>fadeTime</b>,</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>the difference must be larger than the duration of a control cycle</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>sine </b>- Determines the crossfade type: sine-based or not.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a demand rate or other ugen returning <b>sine</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>sine</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Modulating this arg is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>equalPower </b>- Determines if crossfading of equal power type (square root) should be applied.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a demand rate or other ugen returning <b>equalPower</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>equalPower</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Modulating this arg is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>power </b>- This only comes into play if <b>equalPower</b> equals 0, then it's applied to the<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>crossfade amplitude. If power and curve are passed, power applies before.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A positive Number or a demand rate or other ugen returning positive <b>power</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>power</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sequencing this arg with demand rate ugens is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>curve </b>- This only comes into play if <b>equalPower</b> equals 0, then it's applied to the<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>crossfade amplitude according to the lincurve mapping.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If power and curve are passed, power applies before.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Number or a demand rate or other ugen returning <b>curve</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>curve</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sequencing this arg with demand rate ugens is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Calculation of curvature is not giving reliable results when <b>width</b> and / or <b>dynOutOffset </b>are<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>being modulated at the same time.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>allowTypeSeq </b>- Enables sequencing of <b>sine</b>, <b>equalPower</b>, <b>power</b> and <b>curve</b> with<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>demand rate ugens and modulating of <b>sine</b> and <b>equalPower</b> with other ugens.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. As this requires more ugens running in parallel it is disabled by default = 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeRate </b>- One of the Symbols \ar and \kr, determining the crossfade rate used by PanAz or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \ar.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxFadeNum </b>- Integer determining the maximum number of fades, after which <b>doneAction </b>applies<b>.</b><span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A SequenceableCollection causes multichannel expansion. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to inf.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxWidth </b>- An Integer determining the maximum <b>width</b> or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion, <b>width </b>goes into PanAz's width arg.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxWidth</b> increases the internally used and potentially needed number of parallel channels. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the size of the returned multichannel signal.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 2.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>width </b>- Integer, Float, UGen (only from SC 3.9 onwards) or a SequenceableCollection of such,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>causing multichannel expansion. Not modulatable in versions earlier than SC 3.9.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>It determines the width according to PanAz's width arg. Note that a ugen's output must not exceed <b>maxWidth.</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In case of<span class="Apple-converted-space">  </span>DXEnvFan's use as trigger you might want to set it really smaller than maxWidth.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 2.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>initOutOffset</b><span class="Apple-tab-span">	</span>- An Integer or Float or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines an initial offset for PanAz's pos arg.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This can be useful for a start with full or reduced width, see examples.<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 0.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxDynOutOffset</b> - An Integer or Float or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the maximum <b>dynOutOffset </b>to be expected.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxDynOutOffset</b> increases the internally used and potentially needed number of parallel channels.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 1.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dynOutOffset</b> - UGen, Integer or Float or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>By passing a ugen the movement between channels can be modulated.<span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Note that a ugen's output must not exceed <b>maxDynOutOffset.</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>allowFadeEnd</b> - Integer, Boolean or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if a demand rate input to <b>out</b> with finite length will be monitored, which needs a quite complicated<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>trigger logic and more running ugens. If set to 0, the behaviour after the end of <b>out</b> is undefined.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>size </b>- Integer or a SequenceableCollection of such, causing multichannel expansion.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the size of the returned multichannel envelope signal.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 2.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bus </b>- Bus, bus index or a SequenceableCollection of such, causing multichannel expansion.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines whether a private multichannel bus should be used for channel switching.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is recommended for larger width sizes (&gt; 10 or so) as otherwise the number of ugens<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>might result in an overflow error.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to nil.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr</b> - A Number or a ugen returning <b>zeroThr</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if output values below this threshold are replaced by 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This makes sense if the output signal is used as trigger (e.g. with DXEnvFan).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In the case of low power numbers small inaccuracies are amplified, this is avoided</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>with an appropriate zeroThr (e.g. = 0.001), as the operation is applied before taking the power.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>As this requires more ugens running in parallel it is disabled by default = nil.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>doneAction</b> - Integer or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the doneAction after <b>maxFadeNum </b>is exceeded.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p8"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*kr (out, fadeTime = 1, stepTime = 1, fadeMode = 0, sine = 1, equalPower = 1, power = 1, curve = 0, allowTypeSeq = 0, fadeRate = \ar, maxFadeNum = inf, maxWidth = 2, width = 2, initOutOffset = 0, maxDynOutOffset = 1, dynOutOffset = 0, allowFadeEnd = 1, size = 2, bus = nil, zeroThr = nil, doneAction = 0)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><br></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><br></p>
<p class="p10"><b>Examples</b></p>
<p class="p11"><br></p>
<p class="p12">(</p>
<p class="p13">// load with extended resources</p>
<p class="p12">s = <span class="s6">Server</span>.local;</p>
<p class="p12"><span class="s6">Server</span>.default = s;</p>
<p class="p12">s.options.numWireBufs = 256;<span class="Apple-converted-space"> </span></p>
<p class="p12">s.reboot;</p>
<p class="p12">)</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p14"><br></p>
<p class="p10"><b>Ex.1) Basic types of crossfades</b></p>
<p class="p15"><br></p>
<p class="p13">// For normal crossfades the default values - equal power panning of sine type - should be fine,</p>
<p class="p13">// other types of crossfade envelopes can be taken for other purposes such as granular synthesis.</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// default width 2, default equal power crossfading</p>
<p class="p4"><br></p>
<p class="p13">// employs crossfading from PanAz, which results in envelopes of sine type, from which</p>
<p class="p13">// the square root is taken</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// when dropping equalPower we get the pure sine envelope</p>
<p class="p13">// higher width</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxWidth: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 5.5,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// type sine = 0 switches to a linear curve base,</p>
<p class="p13">// with default equalPower = 1 this leads to a square root envelope</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// a linear curve base without equalPower means a linear crossfade</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// if equalPower is set to 0 you can choose a power</p>
<p class="p13">// check alternative values for sine and power also</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,<span class="Apple-converted-space">  </span><span class="s8">// 1</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>power: 3, <span class="s8">// 0.3</span></p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// power can be a ugen too</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 1,<span class="Apple-converted-space">  </span><span class="s8">// 1</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>power: <span class="s6">SinOsc</span>.ar(10, -pi/2).range(0.5, 10),</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// if equalPower is set to 0 you can also choose a curve arg</p>
<p class="p13">// which is passed as curvature to lincurve</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>curve: 3,<span class="Apple-converted-space">  </span><span class="s8">// -3</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// curve can be a ugen too</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>curve: <span class="s6">Line</span>.ar(5, -5, 0.1),<span class="Apple-converted-space">  </span><span class="s8">// -3</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// Passing a dynOutOffset arg - wobbled sliding</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dynOutOffset: <span class="s6">SinOsc</span>.ar(150).range(0, 1),</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// This is not recommended:</p>
<p class="p13">// With dynOutOffset or modulated width a curve arg leads to irregularities</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dynOutOffset: <span class="s6">SinOsc</span>.ar(150).range(0, 1),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>curve: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// out can also be a ugen, but note that with equalPower (default)</p>
<p class="p13">// blending the same channel leads to amplitude pikes,</p>
<p class="p13">// to avoid that take a linear crossfade</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">LFDNoise3</span>.ar(15).range(0, 7),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stepTime: 0.02,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeMode: 1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,<span class="Apple-converted-space"> </span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 1<span class="Apple-converted-space">  </span><span class="s8">// compare 0</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p10"><b>Ex.2) Sequencing crossfade types and parameters</b></p>
<p class="p15"><br></p>
<p class="p13">// sequencing crossfade types and parameters must be allowed explicitely as<span class="Apple-converted-space"> </span></p>
<p class="p13">// it is more CPU-costy</p>
<p class="p4"><br></p>
<p class="p13">// alternate linear and pure sine</p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s6">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>allowTypeSeq: 1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: <span class="s6">Dseq</span>([0, 1], <span class="s6">inf</span>),</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0, </span>// Dseq([0, 1], inf)</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// curvature sequencing</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s6">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>allowTypeSeq: 1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,<span class="Apple-converted-space"> </span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>curve: <span class="s6">Dseq</span>([-3, -3, 3, 3], <span class="s6">inf</span>),</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// fadeMode: 1,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// stepTime: 0.015</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p5"><br>
<b>Ex.3) The 'zeroThr' arg</b></p>
<p class="p17"><br></p>
<p class="p13">// There might occur small inaccuracies in the calculation of crossfade values.</p>
<p class="p13">// This is irrelevant in most cases, but if you use the output signal as trigger</p>
<p class="p13">// it is definitely unwanted.</p>
<p class="p13">// You can supress such if you set an appropriate zero threshold.</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// The effect of unwanted envelope segments especially becomes apparent</p>
<p class="p13">// with small power values that blow up values near 0.</p>
<p class="p13">// Values below the zeroThr are set to 0 before applying power or curvature.</p>
<p class="p4"><br></p>
<p class="p13">// Compare version without passing zeroThr.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([3,2,1,4,5,6,7,0], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sine: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>power: 0.3,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeMode: 1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stepTime: 0.015,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr: 0.002</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.3)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p15"><br></p>
<p class="p10"><b>Ex.4) The 'bus' arg</b></p>
<p class="p15"><br></p>
<p class="p13">// As channel switching with DXEnvFan / DXFan is implemented by "watcher ugens",</p>
<p class="p13">// it becomes costy if the number of output channels increases (growth of quadratic order).</p>
<p class="p13">// The effort is lowered significantly if you pass a reserved bus for this or use DXEnvFanOut,</p>
<p class="p13">// this also concerns DXFan / DXFanOut.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p13">// load with extended resources</p>
<p class="p12">s = <span class="s6">Server</span>.local;</p>
<p class="p12"><span class="s6">Server</span>.default = s;</p>
<p class="p12">s.options.numPrivateAudioBusChannels = 256;</p>
<p class="p12">s.options.memSize = 8192 * 4;</p>
<p class="p12">s.options.numWireBufs = 512;</p>
<p class="p12">s.reboot;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// on my machine this example needs ca. 2.5 % CPU (818 ugens) ...</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12">    <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12">        <span class="s6">Dshuf</span>((0..29), <span class="s7">inf</span>),</p>
<p class="p12">        size: 30,</p>
<p class="p12">        fadeTime: 0.005</p>
<p class="p12">    ) * 0.25</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p13">// ... whereas this needs ca. 0.6 % CPU (167 ugens)</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a = <span class="s6">Bus</span>.audio(s, 30);</p>
<p class="p4"><br></p>
<p class="p12">x = {</p>
<p class="p12">    <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12">        <span class="s6">Dshuf</span>((0..29), <span class="s7">inf</span>),</p>
<p class="p12">        size: 30,</p>
<p class="p12">        fadeTime: 0.005,</p>
<p class="p12">        bus: a</p>
<p class="p12">    ) * 0.25</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a.free;</p>
<p class="p12">b.free;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// care has to be taken with buses and multichannel expansion:</p>
<p class="p4"><br></p>
<p class="p13">// here two buses have to passed as otherwise we get a wrong result,</p>
<p class="p13">// the same bus would be taken for different calculations at the same time</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a = <span class="s6">Bus</span>.audio(s, 8);</p>
<p class="p12">b = <span class="s6">Bus</span>.audio(s, 8);</p>
<p class="p4"><br></p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>Mix<span class="s2">(</span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[<span class="s6">Dseq</span>((0..7), <span class="s7">inf</span>), <span class="s6">Dseq</span>((7..0), <span class="s7">inf</span>)],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>equalPower: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>bus: [a, b]</p>
<p class="p12"><span class="Apple-tab-span">	</span>))</p>
<p class="p12">}.plot(0.1)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a.free;</p>
<p class="p12">b.free;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p17"><br></p>
<p class="p10"><b>Ex.5) PlayBuf crossfading</b></p>
<p class="p15"><br></p>
<p class="p13">// Here a two channel envelope signal is used to crossfade between</p>
<p class="p13">// two channels of a PlayBuf, as rates are close we get a trill effect.</p>
<p class="p4"><br></p>
<p class="p13">// Note that the envelope signal is used three times:</p>
<p class="p4"><br></p>
<p class="p13">// as a trigger to the startPos within PlayBuf</p>
<p class="p13">// as a trigger for the demand ugen that determines the startPos within PlayBuf</p>
<p class="p13">// as an envelope for the PlayBuf</p>
<p class="p4"><br></p>
<p class="p12">b = <span class="s6">Buffer</span>.read(s, <span class="s6">Platform</span>.miSCellaneousDirs[0] +/+ <span class="s9">"Sounds"</span> +/+ <span class="s9">"kitchen_sounds_1.wav"</span>);</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s10">var</span> sig, env = <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([0, 1], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeMode: 3,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stepTime: 0.05,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// to ensure right triggering set zeroThr</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr: 0.002</p>
<p class="p12"><span class="Apple-tab-span">	</span>);</p>
<p class="p4"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>sig = <span class="s6">PlayBuf</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[1, 1.1] * <span class="s6">BufRateScale</span>.kr(b),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Demand</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0,</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Dstutter<span class="s2">(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>5,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dwhite</span>(0.1, 0.9)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>) * <span class="s6">BufFrames</span>.ir(b)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p12"><span class="Apple-tab-span">	</span>) * 1.2 * env;</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span></span>// do a bit correlation</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">Splay</span>.ar(sig, 0.8)</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// L and R get different mixes,</p>
<p class="p13">// both take the same envelope trigger which switches</p>
<p class="p13">// between PlayBufs of different rates, the difference between L and R</p>
<p class="p13">// comes from different random start positions.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s10">var</span> buf, env = <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([<span class="s6">Dshuf</span>((0..4)), <span class="s6">Dshuf</span>((5..7))], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeMode: 3,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stepTime: 0.2,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.02,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr: 0.002</p>
<p class="p12"><span class="Apple-tab-span">	</span>);</p>
<p class="p4"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>{<span class="Apple-converted-space"> </span></p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Mix<span class="s2">(</span>PlayBuf<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ <span class="s10">|j|</span> j / 4 + 0.3 } ! 8 * <span class="s6">BufRateScale</span>.kr(b),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Demand</span>.ar(env, 0, <span class="s6">Drand</span>((2..5)/10, <span class="s7">inf</span>) * <span class="s6">BufFrames</span>.ir(b)),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>loop: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>) * env)<span class="Apple-converted-space"> </span></p>
<p class="p12"><span class="Apple-tab-span">	</span>} ! 2 ;</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p13">// variant with multichannel expansion</p>
<p class="p13">// two 8 ch trigger envelopes are used for L and R mixes</p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s10">var</span> buf, env = <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[<span class="s6">Dseq</span>((0..7), <span class="s7">inf</span>), <span class="s6">Diwhite</span>(0, 7)],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeMode: 3,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stepTime: 0.2,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.02,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr: 0.002</p>
<p class="p12"><span class="Apple-tab-span">	</span>);</p>
<p class="p4"><br></p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span>{ </span><span class="s10">|i|</span><span class="s2"> </span>Mix<span class="s2">(</span>PlayBuf<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{ <span class="s10">|j|</span> j / 4 + 0.3 } ! 8 * <span class="s6">BufRateScale</span>.kr(b),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env[i],</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// same positions go parallel</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Demand</span>.ar(env[i], 0, <span class="s6">Dstutter</span>(8, <span class="s6">Dseq</span>((2..5)/10, <span class="s7">inf</span>)) * <span class="s6">BufFrames</span>.ir(b)),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>loop: 0,</p>
<p class="p12"><span class="Apple-tab-span">	</span>) * env[i]) } ! 2 ;</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p17"><br></p>
<p class="p17"><br></p>
<p class="p10"><b>Ex.6) Granulation, sequencing of fxs and fx parameters per grain</b></p>
<p class="p4"><br></p>
<p class="p14"><br></p>
<p class="p12">b = <span class="s6">Buffer</span>.read(s, <span class="s6">Platform</span>.miSCellaneousDirs[0] +/+ <span class="s9">"Sounds"</span> +/+ <span class="s9">"kitchen_sounds_1.wav"</span>);</p>
<p class="p4"><br></p>
<p class="p13">// sequencing of band pass frequency</p>
<p class="p13">// see also Buffer Granulation tutorial, Ex. 1f</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a = <span class="s6">Bus</span>.audio(s, 8);</p>
<p class="p4"><br></p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-converted-space">    </span><span class="s10">var</span> sig, env = <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">Dseq</span>((0..7), <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-converted-space">        </span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxWidth: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 5,</p>
<p class="p12"><span class="Apple-converted-space">        </span>fadeTime: 0.01,</p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">        </span></span>// to ensure right triggering set zeroThr</p>
<p class="p12"><span class="Apple-converted-space">        </span>zeroThr: 0.002,</p>
<p class="p12"><span class="Apple-converted-space">        </span>bus: a</p>
<p class="p12"><span class="Apple-converted-space">    </span>);</p>
<p class="p4"><br></p>
<p class="p12"><span class="Apple-converted-space">    </span>sig = <span class="s6">PlayBuf</span>.ar(</p>
<p class="p12"><span class="Apple-converted-space">        </span>1,</p>
<p class="p12"><span class="Apple-converted-space">        </span>b,</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">BufRateScale</span>.kr(b),</p>
<p class="p12"><span class="Apple-converted-space">        </span>env,</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(0.2, 0.5, 0.0025) * <span class="s6">BufFrames</span>.ir(b)),</p>
<p class="p12"><span class="Apple-converted-space">        </span>loop: 0,</p>
<p class="p12"><span class="Apple-converted-space">    </span>) * env;</p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">    </span></span>// multichannel trigger polls from single sequencing source</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span></span>// ensure non-zero filter freq for later triggers with max</p>
<p class="p12"><span class="Apple-tab-span">	</span>sig = <span class="s6">BPF</span>.ar(sig, <span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(200, 2000, 100)).max(200), 0.1);</p>
<p class="p4"><br></p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">    </span></span>// do a bit correlation</p>
<p class="p12"><span class="Apple-converted-space">    </span><span class="s6">Splay</span>.ar(sig, 0.6) * 7</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p12">a.free</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// sequencing of different fxs</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">a = <span class="s6">Bus</span>.audio(s, 8);</p>
<p class="p4"><br></p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-converted-space">    </span><span class="s10">var</span> sig, env = <span class="s6">DXEnvFan</span>.ar(</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">Drand</span>((0..7), <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-converted-space">        </span>size: 8, <span class="Apple-converted-space">       </span></p>
<p class="p12"><span class="Apple-converted-space">        </span>maxWidth: 8,</p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">        </span></span>// oscillation of overlap</p>
<p class="p12"><span class="Apple-converted-space">        </span>width: <span class="s6">LFDNoise3</span>.ar(1).range(2, 6),</p>
<p class="p12"><span class="Apple-converted-space">        </span>fadeTime: 0.015,</p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">        </span></span>// to ensure right triggering set zeroThr</p>
<p class="p12"><span class="Apple-converted-space">        </span>zeroThr: 0.002,</p>
<p class="p12"><span class="Apple-converted-space">        </span>bus: a</p>
<p class="p12"><span class="Apple-converted-space">    </span>);</p>
<p class="p4"><br></p>
<p class="p12"><span class="Apple-converted-space">    </span>sig = <span class="s6">PlayBuf</span>.ar(</p>
<p class="p12"><span class="Apple-converted-space">        </span>1,</p>
<p class="p12"><span class="Apple-converted-space">        </span>b,</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">BufRateScale</span>.kr(b),</p>
<p class="p12"><span class="Apple-converted-space">        </span>env,</p>
<p class="p12"><span class="Apple-converted-space">        </span><span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(0.2, 0.5, 0.005) * <span class="s6">BufFrames</span>.ir(b)),</p>
<p class="p12"><span class="Apple-converted-space">        </span>loop: 0,</p>
<p class="p12"><span class="Apple-converted-space">    </span>) * env;</p>
<p class="p4"><br></p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">    </span></span>// selection of fxs as well as fx params triggered with envelope</p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">    </span></span>// ring modulation, bit crusher and band pass</p>
<p class="p12"><span class="Apple-converted-space">    </span>sig = <span class="s6">Select</span>.ar(<span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dstutter</span>(<span class="s6">Diwhite</span>(5, 30), <span class="s6">Dxrand</span>([0, 1, 2], <span class="s7">inf</span>))), [</p>
<p class="p12"><span class="Apple-converted-space">        </span>sig * <span class="s6">SinOsc</span>.ar(<span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(250, 1000, 200))) * 1.5,</p>
<p class="p12"><span class="Apple-converted-space">        </span>sig.round(2 ** <span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(-1, -4, 1))).lag(0.005) * 1.5,</p>
<p class="p13"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// ensure non-zero filter freq for later triggers with max</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">BPF</span>.ar(sig, <span class="s6">Demand</span>.ar(env, 0, <span class="s6">Dbrown</span>(200, 2000, 200)).max(200), 0.2) * 5</p>
<p class="p12"><span class="Apple-converted-space">    </span>]);</p>
<p class="p4"><br></p>
<p class="p13"><span class="s2"><span class="Apple-converted-space">    </span></span>// do a bit correlation</p>
<p class="p12"><span class="Apple-converted-space">    </span><span class="s6">Splay</span>.ar(sig, 0.6)</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p12">a.free</p>
<p class="p15"><b><span class="Apple-converted-space"> </span></b></p>
<p class="p4"><br></p>
<p class="p10"><b>Ex.7) Multichannel expansion</b></p>
<p class="p15"><br></p>
<p class="p4"><br></p>
<p class="p13">// Not as complicated options as with DXMix</p>
<p class="p13">// we get an array of multichannel envelopes, here a mix of them</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p16"><span class="s2"><span class="Apple-tab-span">	</span></span>Mix<span class="s2">(</span>DXEnvFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(0..3).collect { <span class="s10">|i|</span> <span class="s6">Dseq</span>((0..3).rotate(i), <span class="s7">inf</span>) },</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: [0.01, 0.05],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 1</p>
<p class="p12"><span class="Apple-tab-span">	</span>))</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p13">// see Ex.4 for a delicate case with bus args</p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p14"><br></p>
<p class="p14"><br></p>
</body>
</html>
