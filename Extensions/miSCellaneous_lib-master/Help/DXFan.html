<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1187.4">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ee}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Monaco; min-height: 16.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1c00}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p15 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1c00; min-height: 12.0px}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0326cb}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {text-decoration: underline ; color: #042eee}
span.s5 {color: #00bbff}
span.s6 {color: #0326cb}
span.s7 {color: #434ccb}
span.s8 {color: #0433ff}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>DXFan<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>crossfades signals within a multichannel array according to demand-rate control</b></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Part of:</b> <a href="../miSCellaneous.html"><span class="s3">miSCellaneous</span></a></span></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: AbstractDX</b></p>
<p class="p4"><br></p>
<p class="p1">DXFan crossfades signals to a sequence of channels, which, together with fadeTimes and stepTimes, can be passed as demand rate ugens.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>As interface and conventions of DX ugens are nearly identical, I didn't double examples for all features. It's recommended to start with the DX suite overview and go through the help file examples in this order: DXMix - DXMixIn - DXEnvFan - DXEnvFanOut - DXFan - DXFanOut. Some general conventions are treated in detail in the following examples: fades and steps in DXMix help, Ex.2 – width and offset arguments in DXMix help, Ex.3 – multichannel expansion in DXMix help, Ex.6 – crossfade types in DXEnvFan help, Ex.1.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>PanAz.ar's args pos and orientation were scaled wrongly in SC versions up to 3.8. DX ugens neutralize this bug by inverse scaling, so it should actually work the same with SC versions before 3.9 with the exception of examples with modulatable width (disabled in earlier versions). I didn't encounter differences in any other test examples, however I'd rather recommend a SC version from 3.9 onwards, if you have the choice.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>Depending on the multichannel sizes it might be necessary to increase server resources, i.e. the number of interconnect buffers (e.g. s.options.numWireBufs = 256; s.reboot). See Ex.8 from DXMix help and Ex.2, Ex.4 from DXEnvFan help for aspects of CPU demand.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>In my tests timing was exact up to one sample. So when used for granulation DX ugens avoid the inevitable inccuracies of language-based triggering in realtime. However care has to be taken: fade and step times must be larger than the duration of a control cycle. With default values sampleRate = 44100 Hz and blockSize = 64, this equals ca. 0.00145 sec. If you go below, the fade mechanism is messed up and you get jumps and clicks. Accordingly with fadeModes 3 and 4 you have to ensure that the remaining 'real' stepTime, which is calculated by stepTime minus fadeTime, is larger than this threshold. But as a workaround you can always lower the blocksize. See DXFan help Ex.4 for aspects of granulation with high trigger rates / short grain durations.</p>
<p class="p2"><br></p>
<p class="p1"><b>NOTE: </b>The current implementation is bound to counting with Dseries and – inherent to 32 bit floats – the integer accuracy limit of 2 ** 24 - 1 = 16777215. This can be an issue with setups that are using extreme short durations for hours.</p>
<p class="p2"><br></p>
<p class="p1"><b>CREDITS: </b>Thanks to Wouter Snoei for his PlayBufCF class. It gave me a lot of inspiration for DX ugens – although in the end the implementation with PanAz and DemandEnvGen is quite different. Thanks also to Till Bovermann for ironing out a longstanding bug in PanAz.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>See also: </b><a href="../DX suite.html"><span class="s4">DX suite</span></a>,<b> </b><a href="../DXMix.html"><span class="s4">DXMix</span></a>, <a href="../DXMixIn.html"><span class="s4">DXMixIn</span></a>, <a href="../DXEnvFan.html"><span class="s4">DXEnvFan</span></a>,<b> </b><a href="../DXEnvFanOut.html"><span class="s4">DXEnvFanOut</span></a>, <a href="../DXFanOut.html"><span class="s4">DXFanOut</span></a>, <a href="../Buffer Granulation.html"><span class="s3">Buffer Granulation</span></a>, <a href="../Live Granulation.html"><span class="s3">Live Granulation</span></a>, <a href="../PbindFx.html"><span class="s3">PbindFx</span></a></span><span class="s5">,</span><span class="s2"> <a href="../kitchen studies.html"><span class="s3">kitchen studies</span></a></span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*ar (out, channelsArrayRef, fadeTime = 1, stepTime = 1, fadeMode = 0, sine = 1, equalPower = 1, power = 1, curve = 0, allowTypeSeq = 0, fadeRate = \ar, maxFadeNum = inf, maxWidth = 2, width = 2, initOutOffset = 0, maxDynOutOffset = 1, dynOutOffset = 0, allowFadeEnd = 1, size = 2, bus = nil, zeroThr = nil, doneAction = 0)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>out </b>- Determines the sequence of channels between which the signal should be crossfaded.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A channel index, a demand rate or other ugen returning channel indices or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>out</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>channelsArrayRef </b>- The signal to be crossfaded.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A single channel can be passed as such, an array must be wrapped into a<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Ref object to avoid multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In this case the multichannel signal is crossfaded from one block of adjacent channels to the next,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>whereby the lowest channel index follows the base sequence defined by <b>out</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A SequenceableCollection causes multichannel expansion, whereby single items of the collection</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>can itself be Ref objects containing multichannel signals.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime </b>- A fade time, a demand rate or other ugens returning fade times or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>fadeTime</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The interpretation of <b>fadeTime</b> depends on <b>fadeMode</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime</b> must be larger than the duration of a control cycle.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stepTime </b>- A step time, a demand rate or other ugens returning step times or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>stepTime</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The interpretation of <b>stepTime</b> depends on <b>fadeMode</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stepTime</b> must be larger than the duration of a control cycle.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeMode </b>- Integers between 0 and 4 or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion. Not modulatable.</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 0: <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>only fadeTimes are used, no steps</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 1:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate steps and fades, begin with step; <b>stepTime</b> means time without fade</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 2:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate fades and steps, begin with fade; <b>stepTime</b> means time without fade</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 3:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate steps and fades, begin with step; <b>stepTime</b> means sum of step and fade,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>thus <b>stepTime </b>must be larger than <b>fadeTime</b>,</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>the difference must be larger than the duration of a control cycle</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>fadeMode = 4:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>alternate fades and steps, begin with fade; <b>stepTime</b> means sum of fade and step,</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>thus <b>stepTime </b>must be larger than <b>fadeTime</b>,</p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>the difference must be larger than the duration of a control cycle</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>sine </b>- Determines the crossfade type: sine-based or not.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a demand rate or other ugen returning <b>sine</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>sine</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Modulating this arg is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>equalPower </b>- Determines if crossfading of equal power type (square root) should be applied.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a demand rate or other ugen returning <b>equalPower</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>equalPower</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Modulating this arg is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>power </b>- This only comes into play if <b>equalPower</b> equals 0, then it's applied to the<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>crossfade amplitude. If power and curve are passed, power applies before.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A positive Number or a demand rate or other ugen returning positive <b>power</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>power</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sequencing this arg with demand rate ugens is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>curve </b>- This only comes into play if <b>equalPower</b> equals 0, then it's applied to the<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>crossfade amplitude according to the lincurve mapping.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If power and curve are passed, power applies before.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Number or a demand rate or other ugen returning <b>curve</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If in this case the overall multichannel size is larger than the size of <b>curve</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>and the latter contains demand rate ugens, they must all be wrapped into Functions.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sequencing this arg with demand rate ugens is only possible if <b>allowTypeSeq </b>equals 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Calculation of curvature is not giving reliable results when <b>width</b> and / or <b>dynOutOffset </b>are<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>being modulated at the same time.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>allowTypeSeq </b>- Enables sequencing of <b>sine</b>, <b>equalPower</b>, <b>power</b> and <b>curve</b> with<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>demand rate ugens and modulating of <b>sine</b> and <b>equalPower</b> with other ugens.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A Boolean, 0 or 1 or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. As this requires more ugens running in parallel it is disabled by default = 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeRate </b>- One of the Symbols \ar and \kr, determining the crossfade rate used by PanAz or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to \ar.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxFadeNum </b>- Integer determining the maximum number of fades, after which <b>doneAction </b>applies<b>.</b><span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A SequenceableCollection causes multichannel expansion. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to inf.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxWidth </b>- An Integer determining the maximum <b>width</b> or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion, <b>width </b>goes into PanAz's width arg.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxWidth</b> increases the internally used and potentially needed number of parallel channels. Not modulatable.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 2.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>width </b>- Integer, Float, UGen (only from SC 3.9 onwards) or a SequenceableCollection of such,<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>causing multichannel expansion. Not modulatable in versions earlier than SC 3.9.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>It determines the width according to PanAz's width arg. Note that a ugen's output must not exceed <b>maxWidth.</b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 2.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>initOutOffset</b><span class="Apple-tab-span">	</span>- An Integer or Float or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines an initial offset for PanAz's pos arg.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This can be useful for a start with full or reduced width, see examples.<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 0.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxDynOutOffset</b> - An Integer or Float or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the maximum <b>dynOutOffset </b>to be expected.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>maxDynOutOffset</b> increases the internally used and potentially needed number of parallel channels.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 1.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dynOutOffset</b> - UGen, Integer or Float or</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>By passing a ugen the movement between channels can be modulated.<span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Note that a ugen's output must not exceed <b>maxDynOutOffset.</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>allowFadeEnd</b> - Integer, Boolean or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if a demand rate input to <b>out</b> with finite length will be monitored, which needs a quite complicated<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>trigger logic and more running ugens. If set to 0, the behaviour after the end of <b>out</b> is undefined.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>size </b>- Integer or a SequenceableCollection of such, causing multichannel expansion.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the size of the returned multichannel signal.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to 2.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bus </b>- Bus, bus index or a SequenceableCollection of such, causing multichannel expansion.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines whether a private multichannel bus should be used for channel switching.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is recommended for larger width sizes (&gt; 10 or so) as otherwise the number of ugens<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>might result in an overflow error.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Not modulatable. Defaults to nil.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>zeroThr</b> - A Number or a ugen returning <b>zeroThr</b> numbers or<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines if output values below this threshold are replaced by 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This makes sense if the output signal is used as trigger (e.g. with DXEnvFan).</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>In the case of low power numbers small inaccuracies are amplified, this is avoided</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>with an appropriate zeroThr (e.g. = 0.001), as the operation is applied before taking the power.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>As this requires more ugens running in parallel it is disabled by default = nil.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>doneAction</b> - Integer or a SequenceableCollection of such, causing multichannel expansion.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Determines the doneAction after <b>maxFadeNum </b>is exceeded.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Defaults to 0.</p>
<p class="p8"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*kr (out, channelsArrayRef, fadeTime = 1, stepTime = 1, fadeMode = 0, sine = 1, equalPower = 1, power = 1, curve = 0, allowTypeSeq = 0, fadeRate = \ar, maxFadeNum = inf, maxWidth = 2, width = 2, initOutOffset = 0, maxDynOutOffset = 1, dynOutOffset = 0, allowFadeEnd = 1, size = 2, bus = nil, zeroThr = nil, doneAction = 0)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><br></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><br></p>
<p class="p10"><b>Examples</b></p>
<p class="p11"><br></p>
<p class="p12">(</p>
<p class="p13">// load with extended resources</p>
<p class="p12">s = <span class="s6">Server</span>.local;</p>
<p class="p12"><span class="s6">Server</span>.default = s;</p>
<p class="p12">s.options.numWireBufs = 256;<span class="Apple-converted-space"> </span></p>
<p class="p12">s.reboot;</p>
<p class="p12">)</p>
<p class="p14"><br></p>
<p class="p13">// Note that, as with DXEnvFan, higher values passed to 'size' and 'maxWidth'</p>
<p class="p13">// cause a significant growth of the number of used ugens.</p>
<p class="p13">// In this case consider passing a bus arg or the use of DXFanOut,</p>
<p class="p13">// see Ex.4 from DXEnvFan help.</p>
<p class="p14"><br></p>
<p class="p15"><br></p>
<p class="p10"><b>Ex.1) Basic usage: simple crossfade</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13">// crossfading a mono source between two outs</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([0, 1], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">PinkNoise</span>.ar(0.05),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 1</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// Crossfading a stereo source between two outs,</p>
<p class="p13">// for more than two channels size has to be passed.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([0, 2], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>`(<span class="s6">Saw</span>.ar(50 * [1, 5], 0.03)),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.1</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// crossfading a mono source between several outs</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([0, 3, 1, 2], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">BPF</span>.ar(<span class="s6">PinkNoise</span>.ar(), <span class="s6">LFDNoise3</span>.ar(1).range(100, 2000), 0.1, 0.7),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.05</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// sliding over several channels, increased width</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>([0, 3, 1, 2], <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">BPF</span>.ar(<span class="s6">PinkNoise</span>.ar(), <span class="s6">LFDNoise3</span>.ar(1).range(100, 2000), 0.1, 0.7),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.02,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxWidth: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 3</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p16"><br></p>
<p class="p10"><b>Ex.2) Multichannel expansion</b></p>
<p class="p15"><br></p>
<p class="p13">// crossfading mono sources to alternate channels</p>
<p class="p13">// note that the result of DXFan, due to multichannel expansion,<span class="Apple-converted-space"> </span></p>
<p class="p13">// is an array of two stereo arrays which is then mixed to one stereo array.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s8">var</span> lfo = { <span class="s6">LFDNoise3</span>.kr(0.2) };</p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span></span>Mix<span class="s2">(</span>DXFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[<span class="s6">Dseq</span>([0, 1], <span class="s7">inf</span>), <span class="s6">Dseq</span>([1, 0], <span class="s7">inf</span>)],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">LFTri</span>.ar(150 * lfo.().range(1, 2), 0, 0.05),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">BPF</span>.ar(<span class="s6">PinkNoise</span>.ar(), lfo.().range(1000, 3000), 0.1, 0.7)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.07,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 1</p>
<p class="p12"><span class="Apple-tab-span">	</span>))</p>
<p class="p12">}.play</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// crossfading stereo sources to channel pairs (4ch), polyrhythm of fadeTimes.</p>
<p class="p13">// Similar to the above example the result of DXFan, due to multichannel expansion,<span class="Apple-converted-space"> </span></p>
<p class="p13">// is an array of two 4-channel arrays which is then mixed to one 4-channel array.</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s8">var</span> lfo = { <span class="s6">LFDNoise3</span>.kr(0.2) };</p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span></span>Mix<span class="s2">(</span>DXFan<span class="s2">.ar(</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[<span class="s6">Dseq</span>([0, 2], <span class="s7">inf</span>), <span class="s6">Dseq</span>([2, 0], <span class="s7">inf</span>)],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>`({ <span class="s8">|i|</span> <span class="s6">LFTri</span>.ar(150 * lfo.().range(0.5, 2), 0, 0.05) } ! 2) ,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>`({ <span class="s8">|i|</span> <span class="s6">BPF</span>.ar(<span class="s6">PinkNoise</span>.ar(), lfo.().range(500, 1500) * (i + 1), 0.1, 0.7) } ! 2)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 4,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: [<span class="s6">Dseq</span>([0.06, 0.06, 0.03], <span class="s7">inf</span>), <span class="s6">Dseq</span>([0.05, 0.05, 0.17], <span class="s7">inf</span>)],</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>width: 1</p>
<p class="p12"><span class="Apple-tab-span">	</span>))</p>
<p class="p12">}.play;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p15"><br></p>
<p class="p15"><br></p>
<p class="p10"><b>Ex.3) Granulation by crossfading to different channels</b></p>
<p class="p4"><br></p>
<p class="p13">// mono source crossfaded to 8 channels</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s8">var</span> lfo = <span class="s6">LFDNoise3</span>.kr(0.2);</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dshuf</span>((0..7), <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">SinOsc</span>.ar(lfo.range(800, 1500), 0, 0.03),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01</p>
<p class="p12"><span class="Apple-tab-span">	</span>)</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// crossfading stereo pairs to every second out</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s8">var</span> lfo = <span class="s6">LFDNoise3</span>.kr(0.2);</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>((0, 2..6), <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>`(<span class="s6">SinOsc</span>.ar(lfo.range(800, 1500) * [1, 1.02], 0, 0.03)),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.01</p>
<p class="p12"><span class="Apple-tab-span">	</span>) ;</p>
<p class="p12">}.plot(0.2)</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p10"><b>Ex.4) Granulation with high trigger rates and / or short grain durations</b></p>
<p class="p15"><br></p>
<p class="p6"><br></p>
<p class="p13">// fadeTimes should be above blockSize</p>
<p class="p13">// for shorter grains you can use smaller blocksizes</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">s.options.blockSize = 2;</p>
<p class="p12">s.reboot;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p13">// as the effect is AM on single outs we get side bands</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">s.doWhenBooted {</p>
<p class="p12"><span class="Apple-tab-span">	</span>x = {</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">var</span> lfo = <span class="s6">LFDNoise3</span>.ar(0.2);</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">DXFan</span>.ar(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">Dseq</span>((0..7), <span class="s7">inf</span>),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s6">SinOsc</span>.ar(lfo.range(800, 1500), 0, 0.03),</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>size: 8,</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: 0.0002</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p12"><span class="Apple-tab-span">	</span>}.play</p>
<p class="p12">};</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p12">x.release</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p13">// go back to default</p>
<p class="p4"><br></p>
<p class="p12">(</p>
<p class="p12">s.options.blockSize = 64;</p>
<p class="p12">s.reboot;</p>
<p class="p12">)</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
</body>
</html>
